{"ast":null,"code":"// frontend/src/utils/api.js\nimport axios from \"axios\";\nconst BASE_URL = \"http://localhost:5000\"; // backend server\n\n// --- Core fetch wrapper ---\nasync function apiFetch(method, url, token, body) {\n  try {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n    const response = await axios({\n      method,\n      url: BASE_URL + url,\n      data: body,\n      headers\n    });\n    return response.data;\n  } catch (err) {\n    var _err$response;\n    console.error(`API ${method.toUpperCase()} ${url} failed:`, ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err);\n    throw err;\n  }\n}\n\n// --- Shorthands for convenience ---\nexport const apiGet = (url, token) => apiFetch(\"get\", url, token);\nexport const apiPost = (url, token, body) => apiFetch(\"post\", url, token, body);\nexport const apiPut = (url, token, body) => apiFetch(\"put\", url, token, body);\nexport const apiDelete = (url, token) => apiFetch(\"delete\", url, token);","map":{"version":3,"names":["axios","BASE_URL","apiFetch","method","url","token","body","headers","Authorization","response","data","err","_err$response","console","error","toUpperCase","apiGet","apiPost","apiPut","apiDelete"],"sources":["C:/practice_programs/wt/cinetrack/frontend/src/utils/api.js"],"sourcesContent":["// frontend/src/utils/api.js\nimport axios from \"axios\";\n\nconst BASE_URL = \"http://localhost:5000\"; // backend server\n\n// --- Core fetch wrapper ---\nasync function apiFetch(method, url, token, body) {\n  try {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    if (token) {\n      headers.Authorization = `Bearer ${token}`;\n    }\n\n    const response = await axios({\n      method,\n      url: BASE_URL + url,\n      data: body,\n      headers,\n    });\n\n    return response.data;\n  } catch (err) {\n    console.error(`API ${method.toUpperCase()} ${url} failed:`, err.response?.data || err);\n    throw err;\n  }\n}\n\n// --- Shorthands for convenience ---\nexport const apiGet = (url, token) => apiFetch(\"get\", url, token);\nexport const apiPost = (url, token, body) => apiFetch(\"post\", url, token, body);\nexport const apiPut = (url, token, body) => apiFetch(\"put\", url, token, body);\nexport const apiDelete = (url, token) => apiFetch(\"delete\", url, token);\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,uBAAuB,CAAC,CAAC;;AAE1C;AACA,eAAeC,QAAQA,CAACC,MAAM,EAAEC,GAAG,EAAEC,KAAK,EAAEC,IAAI,EAAE;EAChD,IAAI;IACF,MAAMC,OAAO,GAAG;MACd,cAAc,EAAE;IAClB,CAAC;IAED,IAAIF,KAAK,EAAE;MACTE,OAAO,CAACC,aAAa,GAAG,UAAUH,KAAK,EAAE;IAC3C;IAEA,MAAMI,QAAQ,GAAG,MAAMT,KAAK,CAAC;MAC3BG,MAAM;MACNC,GAAG,EAAEH,QAAQ,GAAGG,GAAG;MACnBM,IAAI,EAAEJ,IAAI;MACVC;IACF,CAAC,CAAC;IAEF,OAAOE,QAAQ,CAACC,IAAI;EACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;IAAA,IAAAC,aAAA;IACZC,OAAO,CAACC,KAAK,CAAC,OAAOX,MAAM,CAACY,WAAW,CAAC,CAAC,IAAIX,GAAG,UAAU,EAAE,EAAAQ,aAAA,GAAAD,GAAG,CAACF,QAAQ,cAAAG,aAAA,uBAAZA,aAAA,CAAcF,IAAI,KAAIC,GAAG,CAAC;IACtF,MAAMA,GAAG;EACX;AACF;;AAEA;AACA,OAAO,MAAMK,MAAM,GAAGA,CAACZ,GAAG,EAAEC,KAAK,KAAKH,QAAQ,CAAC,KAAK,EAAEE,GAAG,EAAEC,KAAK,CAAC;AACjE,OAAO,MAAMY,OAAO,GAAGA,CAACb,GAAG,EAAEC,KAAK,EAAEC,IAAI,KAAKJ,QAAQ,CAAC,MAAM,EAAEE,GAAG,EAAEC,KAAK,EAAEC,IAAI,CAAC;AAC/E,OAAO,MAAMY,MAAM,GAAGA,CAACd,GAAG,EAAEC,KAAK,EAAEC,IAAI,KAAKJ,QAAQ,CAAC,KAAK,EAAEE,GAAG,EAAEC,KAAK,EAAEC,IAAI,CAAC;AAC7E,OAAO,MAAMa,SAAS,GAAGA,CAACf,GAAG,EAAEC,KAAK,KAAKH,QAAQ,CAAC,QAAQ,EAAEE,GAAG,EAAEC,KAAK,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}