{"ast":null,"code":"const express = require(\"express\");\nconst mongoose = require(\"mongoose\");\nconst cors = require(\"cors\");\nrequire(\"dotenv\").config();\nconst Movie = require(\"./models/MovieModel\");\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use(express.static(\"public\")); // serves index.html\n\n// Connect to MongoDB\nmongoose.connect(process.env.MONGO_URI, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => console.log(\"âœ… MongoDB Connected\")).catch(err => console.log(\"âŒ MongoDB Error:\", err));\n\n// GET all movies\napp.get(\"/movies\", async (req, res) => {\n  try {\n    const movies = await Movie.find();\n    res.json(movies);\n  } catch (err) {\n    res.status(500).json({\n      error: err.message\n    });\n  }\n});\n\n// ADD new movie\napp.post(\"/movies\", async (req, res) => {\n  try {\n    const newMovie = new Movie(req.body);\n    await newMovie.save();\n    res.json(newMovie);\n  } catch (err) {\n    res.status(400).json({\n      error: err.message\n    });\n  }\n});\n\n// UPDATE movie status\napp.put(\"/movies/:id\", async (req, res) => {\n  try {\n    const updatedMovie = await Movie.findByIdAndUpdate(req.params.id, req.body, {\n      new: true\n    });\n    res.json(updatedMovie);\n  } catch (err) {\n    res.status(400).json({\n      error: err.message\n    });\n  }\n});\n\n// DELETE movie\napp.delete(\"/movies/:id\", async (req, res) => {\n  try {\n    await Movie.findByIdAndDelete(req.params.id);\n    res.json({\n      message: \"Movie removed successfully\"\n    });\n  } catch (err) {\n    res.status(400).json({\n      error: err.message\n    });\n  }\n});\n\n// Server start\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => console.log(`ðŸš€ Server running on http://localhost:${PORT}`));","map":{"version":3,"names":["express","require","mongoose","cors","config","Movie","app","use","json","static","connect","process","env","MONGO_URI","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","get","req","res","movies","find","status","error","message","post","newMovie","body","save","put","updatedMovie","findByIdAndUpdate","params","id","new","delete","findByIdAndDelete","PORT","listen"],"sources":["C:/practice_programs/wt/cinetrack/frontend/src/App.js"],"sourcesContent":["const express = require(\"express\");\nconst mongoose = require(\"mongoose\");\nconst cors = require(\"cors\");\nrequire(\"dotenv\").config();\n\nconst Movie = require(\"./models/MovieModel\");\n\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use(express.static(\"public\")); // serves index.html\n\n// Connect to MongoDB\nmongoose.connect(process.env.MONGO_URI, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n})\n.then(() => console.log(\"âœ… MongoDB Connected\"))\n.catch((err) => console.log(\"âŒ MongoDB Error:\", err));\n\n// GET all movies\napp.get(\"/movies\", async (req, res) => {\n    try {\n        const movies = await Movie.find();\n        res.json(movies);\n    } catch (err) {\n        res.status(500).json({ error: err.message });\n    }\n});\n\n// ADD new movie\napp.post(\"/movies\", async (req, res) => {\n    try {\n        const newMovie = new Movie(req.body);\n        await newMovie.save();\n        res.json(newMovie);\n    } catch (err) {\n        res.status(400).json({ error: err.message });\n    }\n});\n\n// UPDATE movie status\napp.put(\"/movies/:id\", async (req, res) => {\n    try {\n        const updatedMovie = await Movie.findByIdAndUpdate(\n            req.params.id,\n            req.body,\n            { new: true }\n        );\n        res.json(updatedMovie);\n    } catch (err) {\n        res.status(400).json({ error: err.message });\n    }\n});\n\n// DELETE movie\napp.delete(\"/movies/:id\", async (req, res) => {\n    try {\n        await Movie.findByIdAndDelete(req.params.id);\n        res.json({ message: \"Movie removed successfully\" });\n    } catch (err) {\n        res.status(400).json({ error: err.message });\n    }\n});\n\n// Server start\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => console.log(`ðŸš€ Server running on http://localhost:${PORT}`));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}