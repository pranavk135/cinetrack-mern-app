{"ast":null,"code":"var _jsxFileName = \"C:\\\\practice_programs\\\\wt\\\\cinetrack\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Search from './components/Search';\nimport Dashboard from './components/Dashboard';\nimport { apiGet } from './utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState(() => {\n    const raw = localStorage.getItem('ct_user');\n    return raw ? JSON.parse(raw) : null;\n  });\n  const [token, setToken] = useState(() => localStorage.getItem('ct_token') || null);\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    if (token) {\n      apiGet('/api/movies', token).then(r => {\n        if (r.ok) r.json().then(data => setMovies(data));\n      });\n    } else setMovies([]);\n  }, [token]);\n  const onLogin = (userObj, jwt) => {\n    setUser(userObj);\n    setToken(jwt);\n    localStorage.setItem('ct_user', JSON.stringify(userObj));\n    localStorage.setItem('ct_token', jwt);\n  };\n  const onLogout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem('ct_user');\n    localStorage.removeItem('ct_token');\n    setMovies([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"CineTrack\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: [\"Hi, \", user.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 67\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn small\",\n            onClick: onLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 118\n          }, this)]\n        }, void 0, true) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 52\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: !token ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-grid\",\n        children: [/*#__PURE__*/_jsxDEV(Login, {\n          onLogin: onLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 46\n        }, this), /*#__PURE__*/_jsxDEV(Register, {\n          onLogin: onLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          token: token,\n          onAdded: m => setMovies(prev => [m, ...prev])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 114\n        }, this), /*#__PURE__*/_jsxDEV(Dashboard, {\n          movies: movies,\n          token: token,\n          refresh: () => {\n            apiGet('/api/movies', token).then(r => r.json().then(data => setMovies(data)));\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 184\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: \"CineTrack \\u2022 Demo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"A0L4dDVtWgzYDYp4ztYsMfS2xSg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Login","Register","Search","Dashboard","apiGet","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","user","setUser","raw","localStorage","getItem","JSON","parse","token","setToken","movies","setMovies","then","r","ok","json","data","onLogin","userObj","jwt","setItem","stringify","onLogout","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","username","onClick","onAdded","m","prev","refresh","_c","$RefreshReg$"],"sources":["C:/practice_programs/wt/cinetrack/frontend/src/App.js"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Search from './components/Search';\nimport Dashboard from './components/Dashboard';\nimport { apiGet } from './utils/api';\nfunction App() {\n  const [user, setUser] = useState(()=> {\n    const raw = localStorage.getItem('ct_user');\n    return raw ? JSON.parse(raw) : null;\n  });\n  const [token, setToken] = useState(()=> localStorage.getItem('ct_token') || null);\n  const [movies, setMovies] = useState([]);\n  useEffect(()=> {\n    if (token) {\n      apiGet('/api/movies', token).then(r => {\n        if (r.ok) r.json().then(data => setMovies(data));\n      });\n    } else setMovies([]);\n  }, [token]);\n  const onLogin = (userObj, jwt) => { setUser(userObj); setToken(jwt); localStorage.setItem('ct_user', JSON.stringify(userObj)); localStorage.setItem('ct_token', jwt); };\n  const onLogout = ()=> { setUser(null); setToken(null); localStorage.removeItem('ct_user'); localStorage.removeItem('ct_token'); setMovies([]); };\n  return (\n    <div className='app'>\n      <header className='header'><h1>CineTrack</h1><div>{user ? <><span className='muted'>Hi, {user.username}</span> <button className='btn small' onClick={onLogout}>Logout</button></> : null}</div></header>\n      <main>\n        {!token ? <div className='auth-grid'><Login onLogin={onLogin} /><Register onLogin={onLogin} /></div> : <><Search token={token} onAdded={m=> setMovies(prev => [m, ...prev])} /><Dashboard movies={movies} token={token} refresh={()=>{ apiGet('/api/movies', token).then(r=> r.json().then(data=> setMovies(data))); }} /></>}\n      </main>\n      <footer className='footer'>CineTrack â€¢ Demo</footer>\n    </div>\n  );\n}\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}